import { User, NonConformite, KPIData, Notification, AuditLog } from '@/types/qtrack';

export const currentUser: User = {
  id: 'u1',
  nom: 'RIAHI',
  prenom: 'Mohamed Aziz',
  email: 'aziz.riahi@riahisolutions.com',
  role: 'admin',
  departement: 'Direction Qualité',
  createdAt: '2024-01-15',
  lastLogin: '2026-01-14T14:30:00',
  isActive: true,
};

export const users: User[] = [
  currentUser,
  {
    id: 'u2',
    nom: 'Ben Ali',
    prenom: 'Sarah',
    email: 'sarah.benali@riahisolutions.com',
    role: 'qualite',
    departement: 'Qualité',
    createdAt: '2024-02-10',
    lastLogin: '2026-01-14T10:15:00',
    isActive: true,
  },
  {
    id: 'u3',
    nom: 'Trabelsi',
    prenom: 'Ahmed',
    email: 'ahmed.trabelsi@riahisolutions.com',
    role: 'production',
    departement: 'Production',
    createdAt: '2024-03-05',
    lastLogin: '2026-01-13T16:45:00',
    isActive: true,
  },
  {
    id: 'u4',
    nom: 'Gharbi',
    prenom: 'Leila',
    email: 'leila.gharbi@riahisolutions.com',
    role: 'maintenance',
    departement: 'Maintenance',
    createdAt: '2024-04-20',
    lastLogin: '2026-01-14T09:00:00',
    isActive: true,
  },
  {
    id: 'u5',
    nom: 'Mansouri',
    prenom: 'Karim',
    email: 'karim.mansouri@riahisolutions.com',
    role: 'standard',
    departement: 'Logistique',
    createdAt: '2024-05-15',
    lastLogin: '2026-01-12T11:30:00',
    isActive: true,
  },
  {
    id: 'u6',
    nom: 'Bouazizi',
    prenom: 'Fatma',
    email: 'fatma.bouazizi@riahisolutions.com',
    role: 'qualite',
    departement: 'Qualité',
    createdAt: '2024-06-01',
    lastLogin: '2026-01-14T13:20:00',
    isActive: true,
  },
  {
    id: 'u7',
    nom: 'Hammami',
    prenom: 'Youssef',
    email: 'youssef.hammami@riahisolutions.com',
    role: 'production',
    departement: 'Production',
    createdAt: '2024-07-10',
    isActive: false,
  },
  {
    id: 'u8',
    nom: 'Chaabane',
    prenom: 'Nadia',
    email: 'nadia.chaabane@riahisolutions.com',
    role: 'standard',
    departement: 'Achats',
    createdAt: '2024-08-22',
    lastLogin: '2026-01-14T08:45:00',
    isActive: true,
  },
];

export const nonConformites: NonConformite[] = [
  {
    id: 'nc1',
    reference: 'NC-2026-001',
    titre: 'Défaut dimensionnel sur pièce A-2045',
    description: 'Pièce hors tolérance détectée lors du contrôle qualité. Écart de +0.5mm sur la cote principale.',
    type: 'produit',
    gravite: 'majeure',
    statut: 'action_lancee',
    poste: 'Usinage CNC',
    departement: 'Production',
    declarantId: 'u3',
    declarantNom: 'Ahmed Trabelsi',
    responsableId: 'u2',
    responsableNom: 'Sarah Ben Ali',
    dateDeclaration: '2026-01-10',
    dateDetection: '2026-01-10',
    causeRacine: 'Usure de l\'outil de coupe non détectée',
    impactDescription: 'Lot de 50 pièces potentiellement affecté',
    actions: [
      {
        id: 'a1',
        ncId: 'nc1',
        description: 'Remplacement de l\'outil de coupe',
        responsableId: 'u4',
        responsableNom: 'Leila Gharbi',
        dateEcheance: '2026-01-12',
        dateRealisation: '2026-01-11',
        statut: 'termine',
      },
      {
        id: 'a2',
        ncId: 'nc1',
        description: 'Contrôle 100% du lot affecté',
        responsableId: 'u2',
        responsableNom: 'Sarah Ben Ali',
        dateEcheance: '2026-01-15',
        statut: 'en_cours',
      },
    ],
  },
  {
    id: 'nc2',
    reference: 'NC-2026-002',
    titre: 'Non-conformité fournisseur - Matière première',
    description: 'Certificat matière non conforme aux spécifications. Taux de carbone hors norme.',
    type: 'fournisseur',
    gravite: 'critique',
    statut: 'en_analyse',
    poste: 'Réception',
    departement: 'Achats',
    declarantId: 'u8',
    declarantNom: 'Nadia Chaabane',
    responsableId: 'u6',
    responsableNom: 'Fatma Bouazizi',
    dateDeclaration: '2026-01-12',
    dateDetection: '2026-01-11',
    causeRacine: 'Analyse en cours',
    impactDescription: 'Risque de non-conformité sur production en cours',
    actions: [],
  },
  {
    id: 'nc3',
    reference: 'NC-2026-003',
    titre: 'Écart procédure de contrôle',
    description: 'Procédure de contrôle non respectée sur ligne 3. Étape de vérification visuelle omise.',
    type: 'processus',
    gravite: 'mineure',
    statut: 'ouvert',
    poste: 'Ligne 3',
    departement: 'Production',
    declarantId: 'u2',
    declarantNom: 'Sarah Ben Ali',
    dateDeclaration: '2026-01-13',
    dateDetection: '2026-01-13',
    actions: [],
  },
  {
    id: 'nc4',
    reference: 'NC-2026-004',
    titre: 'Réclamation client - Délai livraison',
    description: 'Retard de livraison de 3 jours sur commande CMD-2026-0145. Client mécontent.',
    type: 'client',
    gravite: 'majeure',
    statut: 'action_lancee',
    poste: 'Expédition',
    departement: 'Logistique',
    declarantId: 'u5',
    declarantNom: 'Karim Mansouri',
    responsableId: 'u5',
    responsableNom: 'Karim Mansouri',
    dateDeclaration: '2026-01-08',
    dateDetection: '2026-01-07',
    causeRacine: 'Problème de planification transport',
    impactDescription: 'Risque de perte client',
    actions: [
      {
        id: 'a3',
        ncId: 'nc4',
        description: 'Envoi lettre d\'excuse au client',
        responsableId: 'u5',
        responsableNom: 'Karim Mansouri',
        dateEcheance: '2026-01-09',
        dateRealisation: '2026-01-09',
        statut: 'termine',
      },
      {
        id: 'a4',
        ncId: 'nc4',
        description: 'Révision processus planification',
        responsableId: 'u5',
        responsableNom: 'Karim Mansouri',
        dateEcheance: '2026-01-20',
        statut: 'en_cours',
      },
    ],
  },
  {
    id: 'nc5',
    reference: 'NC-2025-098',
    titre: 'Défaut aspect surface',
    description: 'Rayures visibles sur lot de pièces finies. Détecté lors du contrôle final.',
    type: 'produit',
    gravite: 'mineure',
    statut: 'clos',
    poste: 'Finition',
    departement: 'Production',
    declarantId: 'u3',
    declarantNom: 'Ahmed Trabelsi',
    responsableId: 'u2',
    responsableNom: 'Sarah Ben Ali',
    dateDeclaration: '2025-12-20',
    dateDetection: '2025-12-20',
    dateCloture: '2026-01-05',
    causeRacine: 'Manutention inadaptée',
    impactDescription: 'Lot de 25 pièces retouchées',
    actions: [
      {
        id: 'a5',
        ncId: 'nc5',
        description: 'Formation opérateurs manutention',
        responsableId: 'u3',
        responsableNom: 'Ahmed Trabelsi',
        dateEcheance: '2025-12-28',
        dateRealisation: '2025-12-27',
        statut: 'termine',
        efficacite: 'efficace',
      },
    ],
  },
  {
    id: 'nc6',
    reference: 'NC-2026-005',
    titre: 'Panne équipement critique',
    description: 'Arrêt machine de soudure principale. Impact sur planning production.',
    type: 'processus',
    gravite: 'critique',
    statut: 'action_lancee',
    poste: 'Soudure',
    departement: 'Production',
    declarantId: 'u4',
    declarantNom: 'Leila Gharbi',
    responsableId: 'u4',
    responsableNom: 'Leila Gharbi',
    dateDeclaration: '2026-01-14',
    dateDetection: '2026-01-14',
    causeRacine: 'Maintenance préventive non effectuée',
    impactDescription: 'Retard production estimé 2 jours',
    actions: [
      {
        id: 'a6',
        ncId: 'nc6',
        description: 'Réparation urgente machine',
        responsableId: 'u4',
        responsableNom: 'Leila Gharbi',
        dateEcheance: '2026-01-15',
        statut: 'en_cours',
      },
      {
        id: 'a7',
        ncId: 'nc6',
        description: 'Mise à jour planning maintenance préventive',
        responsableId: 'u4',
        responsableNom: 'Leila Gharbi',
        dateEcheance: '2026-01-20',
        statut: 'non_demarre',
      },
    ],
  },
  {
    id: 'nc7',
    reference: 'NC-2026-006',
    titre: 'Documentation technique obsolète',
    description: 'Procédure de montage version 2.1 utilisée au lieu de version 3.0.',
    type: 'processus',
    gravite: 'mineure',
    statut: 'ouvert',
    poste: 'Assemblage',
    departement: 'Production',
    declarantId: 'u6',
    declarantNom: 'Fatma Bouazizi',
    dateDeclaration: '2026-01-14',
    dateDetection: '2026-01-14',
    actions: [],
  },
  {
    id: 'nc8',
    reference: 'NC-2025-095',
    titre: 'Non-conformité audit interne',
    description: 'Écart constaté lors de l\'audit interne ISO 9001. Enregistrements incomplets.',
    type: 'processus',
    gravite: 'majeure',
    statut: 'clos',
    poste: 'Qualité',
    departement: 'Qualité',
    declarantId: 'u1',
    declarantNom: 'Mohamed Aziz RIAHI',
    responsableId: 'u2',
    responsableNom: 'Sarah Ben Ali',
    dateDeclaration: '2025-12-15',
    dateDetection: '2025-12-14',
    dateCloture: '2025-12-30',
    causeRacine: 'Manque de formation sur le nouveau système',
    impactDescription: 'Risque de non-conformité certification',
    actions: [
      {
        id: 'a8',
        ncId: 'nc8',
        description: 'Formation équipe sur nouveau système',
        responsableId: 'u2',
        responsableNom: 'Sarah Ben Ali',
        dateEcheance: '2025-12-25',
        dateRealisation: '2025-12-23',
        statut: 'termine',
        efficacite: 'efficace',
      },
    ],
  },
  {
    id: 'nc9',
    reference: 'NC-2026-007',
    titre: 'Emballage endommagé à réception',
    description: 'Cartons de composants électroniques reçus avec traces d\'humidité.',
    type: 'fournisseur',
    gravite: 'majeure',
    statut: 'en_analyse',
    poste: 'Réception',
    departement: 'Achats',
    declarantId: 'u8',
    declarantNom: 'Nadia Chaabane',
    responsableId: 'u8',
    responsableNom: 'Nadia Chaabane',
    dateDeclaration: '2026-01-13',
    dateDetection: '2026-01-13',
    causeRacine: 'En cours d\'investigation avec transporteur',
    impactDescription: 'Composants potentiellement défectueux',
    actions: [],
  },
  {
    id: 'nc10',
    reference: 'NC-2026-008',
    titre: 'Erreur étiquetage produit',
    description: 'Étiquettes avec mauvaise référence apposées sur lot de produits finis.',
    type: 'produit',
    gravite: 'majeure',
    statut: 'action_lancee',
    poste: 'Conditionnement',
    departement: 'Production',
    declarantId: 'u3',
    declarantNom: 'Ahmed Trabelsi',
    responsableId: 'u3',
    responsableNom: 'Ahmed Trabelsi',
    dateDeclaration: '2026-01-11',
    dateDetection: '2026-01-11',
    causeRacine: 'Erreur de paramétrage imprimante',
    impactDescription: 'Lot de 100 produits à ré-étiqueter',
    actions: [
      {
        id: 'a9',
        ncId: 'nc10',
        description: 'Ré-étiquetage du lot concerné',
        responsableId: 'u3',
        responsableNom: 'Ahmed Trabelsi',
        dateEcheance: '2026-01-12',
        dateRealisation: '2026-01-12',
        statut: 'termine',
      },
      {
        id: 'a10',
        ncId: 'nc10',
        description: 'Mise en place double vérification étiquetage',
        responsableId: 'u3',
        responsableNom: 'Ahmed Trabelsi',
        dateEcheance: '2026-01-18',
        statut: 'en_retard',
      },
    ],
  },
  {
    id: 'nc11',
    reference: 'NC-2025-092',
    titre: 'Calibration instrument hors délai',
    description: 'Pied à coulisse utilisé avec certificat de calibration expiré.',
    type: 'processus',
    gravite: 'mineure',
    statut: 'clos',
    poste: 'Contrôle',
    departement: 'Qualité',
    declarantId: 'u6',
    declarantNom: 'Fatma Bouazizi',
    responsableId: 'u6',
    responsableNom: 'Fatma Bouazizi',
    dateDeclaration: '2025-12-10',
    dateDetection: '2025-12-10',
    dateCloture: '2025-12-18',
    causeRacine: 'Suivi métrologique insuffisant',
    actions: [
      {
        id: 'a11',
        ncId: 'nc11',
        description: 'Recalibration de l\'instrument',
        responsableId: 'u6',
        responsableNom: 'Fatma Bouazizi',
        dateEcheance: '2025-12-15',
        dateRealisation: '2025-12-14',
        statut: 'termine',
        efficacite: 'efficace',
      },
    ],
  },
  {
    id: 'nc12',
    reference: 'NC-2026-009',
    titre: 'Service après-vente - Réclamation garantie',
    description: 'Produit retourné sous garantie avec défaut de fonctionnement.',
    type: 'service',
    gravite: 'mineure',
    statut: 'ouvert',
    poste: 'SAV',
    departement: 'Service Client',
    declarantId: 'u5',
    declarantNom: 'Karim Mansouri',
    dateDeclaration: '2026-01-14',
    dateDetection: '2026-01-14',
    actions: [],
  },
];

export const kpiData: KPIData = {
  ncTotales: 156,
  ncOuvertes: 12,
  ncCritiques: 2,
  ncMajeures: 5,
  ncMineures: 5,
  actionsEnRetard: 3,
  tempsResolutionMoyen: 12.5,
  tauxResolution: 87.5,
  ncParMois: [
    { mois: 'Août', count: 8 },
    { mois: 'Sept', count: 12 },
    { mois: 'Oct', count: 15 },
    { mois: 'Nov', count: 10 },
    { mois: 'Déc', count: 14 },
    { mois: 'Jan', count: 9 },
  ],
  ncParType: [
    { type: 'Produit', count: 45 },
    { type: 'Processus', count: 38 },
    { type: 'Fournisseur', count: 28 },
    { type: 'Client', count: 25 },
    { type: 'Service', count: 20 },
  ],
  ncParGravite: [
    { gravite: 'Critique', count: 8 },
    { gravite: 'Majeure', count: 52 },
    { gravite: 'Mineure', count: 96 },
  ],
  ncParStatut: [
    { statut: 'Ouvert', count: 12 },
    { statut: 'En analyse', count: 8 },
    { statut: 'Action lancée', count: 15 },
    { statut: 'Clos', count: 121 },
  ],
};

export const notifications: Notification[] = [
  {
    id: 'n1',
    type: 'nc_nouvelle',
    titre: 'Nouvelle NC déclarée',
    message: 'NC-2026-009 - Service après-vente créée par Karim Mansouri',
    date: '2026-01-14T14:30:00',
    lu: false,
    lien: 'nc12',
  },
  {
    id: 'n2',
    type: 'nc_assignee',
    titre: 'NC assignée',
    message: 'Vous avez été assigné comme responsable de NC-2026-005',
    date: '2026-01-14T10:15:00',
    lu: false,
    lien: 'nc6',
  },
  {
    id: 'n3',
    type: 'action_echeance',
    titre: 'Action en retard',
    message: 'Action "Mise en place double vérification" dépasse l\'échéance',
    date: '2026-01-14T08:00:00',
    lu: true,
    lien: 'nc10',
  },
  {
    id: 'n4',
    type: 'nc_cloturee',
    titre: 'NC clôturée',
    message: 'NC-2025-098 a été clôturée avec succès',
    date: '2026-01-05T16:45:00',
    lu: true,
    lien: 'nc5',
  },
  {
    id: 'n5',
    type: 'systeme',
    titre: 'Rapport mensuel disponible',
    message: 'Le rapport qualité de décembre 2025 est prêt',
    date: '2026-01-02T09:00:00',
    lu: true,
  },
];

export const auditLogs: AuditLog[] = [
  {
    id: 'log1',
    userId: 'u5',
    userNom: 'Karim Mansouri',
    action: 'CREATE',
    entite: 'nc',
    entiteId: 'nc12',
    details: 'Création NC-2026-009',
    timestamp: '2026-01-14T14:30:00',
  },
  {
    id: 'log2',
    userId: 'u4',
    userNom: 'Leila Gharbi',
    action: 'UPDATE',
    entite: 'nc',
    entiteId: 'nc6',
    details: 'Mise à jour statut: action_lancee',
    timestamp: '2026-01-14T10:20:00',
  },
  {
    id: 'log3',
    userId: 'u3',
    userNom: 'Ahmed Trabelsi',
    action: 'UPDATE',
    entite: 'action',
    entiteId: 'a9',
    details: 'Action marquée comme terminée',
    timestamp: '2026-01-12T15:30:00',
  },
];

export const departements = [
  'Production',
  'Qualité',
  'Maintenance',
  'Logistique',
  'Achats',
  'Service Client',
  'Direction',
  'R&D',
];

export const postes = [
  'Usinage CNC',
  'Soudure',
  'Assemblage',
  'Finition',
  'Conditionnement',
  'Réception',
  'Expédition',
  'Contrôle',
  'Ligne 1',
  'Ligne 2',
  'Ligne 3',
  'SAV',
];
